[{"C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\components\\Driver\\Drivers.js":"1","C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\index.js":"2","C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\components\\Journey\\JourneyList.js":"3","C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\components\\Journey\\JourneyCreate.js":"4","C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\components\\Shipments\\ShipmentsMap.js":"5","C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\redux\\index.js":"6","C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\components\\Sidebar\\SidebarData.js":"7","C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\components\\Authentication\\Login.js":"8","C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\components\\Sidebar\\Navbar.js":"9","C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\components\\Shipments\\Shipments.js":"10","C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\components\\Driver\\DriverModal.js":"11","C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\redux\\actions\\status.js":"12","C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\redux\\reducers\\status.js":"13","C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\redux\\actions\\driver.js":"14","C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\redux\\actions\\instance.js":"15","C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\components\\Journey\\JourneyMapCreate.js":"16","C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\components\\HomePage\\Home.js":"17"},{"size":4821,"mtime":1607257010159,"results":"18","hashOfConfig":"19"},{"size":961,"mtime":1606615310328,"results":"20","hashOfConfig":"19"},{"size":8436,"mtime":1606993128059,"results":"21","hashOfConfig":"19"},{"size":4024,"mtime":1606993591418,"results":"22","hashOfConfig":"19"},{"size":1578,"mtime":1606797569910,"results":"23","hashOfConfig":"19"},{"size":646,"mtime":1606780800417,"results":"24","hashOfConfig":"19"},{"size":490,"mtime":1606736132843,"results":"25","hashOfConfig":"19"},{"size":2020,"mtime":1606615310291,"results":"26","hashOfConfig":"19"},{"size":4105,"mtime":1606993979878,"results":"27","hashOfConfig":"19"},{"size":15279,"mtime":1606736132839,"results":"28","hashOfConfig":"19"},{"size":2820,"mtime":1607256953657,"results":"29","hashOfConfig":"19"},{"size":403,"mtime":1606211958211,"results":"30","hashOfConfig":"19"},{"size":312,"mtime":1606211958204,"results":"31","hashOfConfig":"19"},{"size":399,"mtime":1606211028810,"results":"32","hashOfConfig":"19"},{"size":135,"mtime":1606210143579,"results":"33","hashOfConfig":"19"},{"size":8237,"mtime":1607263783948,"results":"34","hashOfConfig":"19"},{"size":318,"mtime":1606736132835,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"ka3xh2",{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"40"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"40"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\components\\Driver\\Drivers.js",[],"C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\index.js",[],["75","76"],"C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\components\\Journey\\JourneyList.js",["77"],"import React, { useState, useEffect, useRef } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport \"primeicons/primeicons.css\";\r\n\r\nimport \"primereact/resources/themes/saga-blue/theme.css\";\r\nimport \"primereact/resources/primereact.css\";\r\nimport \"primeflex/primeflex.css\";\r\nimport { ProgressSpinner } from \"primereact/progressspinner\";\r\nimport \"../../index.css\";\r\n\r\nimport moment from \"moment\";\r\nimport classNames from \"classnames\";\r\nimport { DataTable } from \"primereact/datatable\";\r\nimport { Column } from \"primereact/column\";\r\nimport { Toast } from \"primereact/toast\";\r\nimport { Button } from \"primereact/button\";\r\nimport { InputSwitch } from \"primereact/inputswitch\";\r\nimport { Toolbar } from \"primereact/toolbar\";\r\n\r\nimport { InputText } from \"primereact/inputtext\";\r\n\r\nimport \"../Shipments/cutom.css\";\r\nimport DriverModal from \"../Driver/DriverModal\";\r\nconst JourneyList = ({ journeys, user }) => {\r\n  const [allJourneys, setJourneys] = useState(journeys || null);\r\n  const [selectedJourneys, setSelectedJourneys] = useState(null);\r\n  const [openModal, setOpenModal] = useState(false);\r\n  const [journeyToAssign, setJourneyToAssign] = useState(null);\r\n  const [checked, setChecked] = useState(false);\r\n  const [globalFilter, setGlobalFilter] = useState(null);\r\n  const toast = useRef(null);\r\n  const dt = useRef(null);\r\n\r\n  useEffect(() => {\r\n    setJourneys(journeys);\r\n  }, [journeys]);\r\n\r\n  useEffect(() => {\r\n    if (checked) {\r\n      const filtered = allJourneys.filter(\r\n        (journey) => journey.is_completed === false\r\n      );\r\n      setJourneys(filtered);\r\n    } else {\r\n      setJourneys(journeys);\r\n    }\r\n  }, [checked]);\r\n\r\n  const handleAssignClick = (rowData) => {\r\n    setJourneyToAssign(rowData);\r\n    setOpenModal(true);\r\n  };\r\n\r\n  if (!journeys)\r\n    return (\r\n      <div className=\"loader mt-5\">\r\n        <ProgressSpinner\r\n          style={{ width: \"200px\", height: \"200px\" }}\r\n          strokeWidth=\"8\"\r\n          fill=\"#EEEEEE\"\r\n          animationDuration=\".5s\"\r\n        />\r\n      </div>\r\n    );\r\n\r\n  const random = () => Math.floor(Math.random() * (25 - 5) ) + 5\r\n\r\n  const leftToolbarTemplate = () => {\r\n    return (\r\n      <Link to=\"/journeys/create/\">\r\n        <Button\r\n          label=\"New journey\"\r\n          icon=\"pi pi-plus\"\r\n          className=\"p-button-success\"\r\n        />\r\n      </Link>\r\n    );\r\n  };\r\n\r\n  const statusBodyTemplate = (rowData) => {\r\n    return (\r\n      <>\r\n        {rowData.is_completed === false ? (\r\n          <span className={classNames(\"customer-badge\", \"status-Pending\")}>\r\n            Active\r\n          </span>\r\n        ) : (\r\n          <span className={classNames(\"customer-badge\", \"status-Delivered\")}>\r\n            completed\r\n          </span>\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const journeyIdBodyTemplate = (rowData) => {\r\n    return (\r\n      <span className={`customer-badge status-${rowData.id}`}>\r\n        {rowData.id}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const driverBodyTemplate = (rowData) => {\r\n    return (\r\n      <>\r\n        {rowData.driver?.user.first_name ? (\r\n          <span className={`customer-badge status-${rowData.driver}`}>\r\n            {`${rowData.driver?.user.first_name} ${rowData.driver?.user.last_name}`}\r\n          </span>\r\n        ) : (\r\n          <button\r\n            className=\"btn btn-primary\"\r\n            onClick={() => handleAssignClick(rowData)}\r\n          >\r\n            Assign Driver\r\n          </button>\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const dateBodyTemplate = (rowData) => {\r\n    return (\r\n      <span className={`customer-badge status-${rowData}`}>\r\n        {moment(rowData.date).format(\"YYYY-MM-DD\")}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const distanceBodyTemplate = (rowData) => {\r\n    return (\r\n      <span className={`customer-badge status-${rowData}`}>\r\n        {rowData.distance_traveled && `${rowData.distance_traveled} km`}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const timeBodyTemplate = (rowData) => {\r\n    return (\r\n      <span className={`customer-badge status-${rowData}`}>\r\n        {rowData.time_traveled && `${rowData.time_traveled} min`}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const actionBodyTemplate = (rowData) => {\r\n    let counter = 0;\r\n    const randomInside = random()\r\n    const len = rowData?.packages.length;\r\n\r\n    rowData?.packages.forEach((p) => {\r\n      if (p.status?.id === 4 || p.status?.id === 5) {\r\n        counter++;\r\n      }\r\n    });\r\n\r\n    return (\r\n      <>\r\n        {rowData.is_completed === true ? (\r\n          <div className=\"progress\">\r\n            <div\r\n              className=\"progress-bar\"\r\n              role=\"progressbar\"\r\n              style={{ width: `100%` }}\r\n              aria-valuenow=\"0\"\r\n              aria-valuemin=\"0\"\r\n              aria-valuemax={len}\r\n            >\r\n              {len}/{len}\r\n            </div>\r\n          </div>\r\n        ) :\r\n            (\r\n          <div className=\"progress\">\r\n            <div\r\n              className=\"progress-bar\"\r\n              role=\"progressbar\"\r\n              style={{ width: `${len ===0 ? ((randomInside-4)/randomInside*100) : (counter / len) * 100}%` }}\r\n              aria-valuenow=\"0\"\r\n              aria-valuemin=\"0\"\r\n              aria-valuemax={len}\r\n            >\r\n              {counter}/{len}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const handleClick = (e) => {\r\n    setChecked(e.value);\r\n  };\r\n\r\n  const header = (\r\n    <>\r\n      <div className=\"table-header\">\r\n        <h4 className=\"p-m-0\">Journeys List</h4>\r\n\r\n        <span className=\"p-input-icon-left\">\r\n          <i className=\"pi pi-search\" />\r\n          <InputText\r\n            type=\"search\"\r\n            onInput={(e) => setGlobalFilter(e.target.value)}\r\n            placeholder=\"Search...\"\r\n          />\r\n        </span>\r\n      </div>\r\n\r\n      <div className=\" d-flex align-self-center \">\r\n        <h5 className=\"align-self-baseline mr-3\">Only Active Journeys?</h5>\r\n        <InputSwitch checked={checked} onChange={handleClick} />\r\n      </div>\r\n    </>\r\n  );\r\n\r\n  if (!user) return <Redirect to=\"/login\" />;\r\n  return (\r\n    <div className=\"journeyslist ui-toolbar-group-left \">\r\n      <DriverModal\r\n        openModal={openModal}\r\n        setOpenModal={setOpenModal}\r\n        journey={journeyToAssign}\r\n        key={journeyToAssign?.id}\r\n        modalHeader={`Assign a driver to journey`}\r\n      />\r\n      <div className=\"datatable-crud-demo\">\r\n        <Toast ref={toast} />\r\n\r\n        <div className=\"card\">\r\n          <Toolbar className=\"p-mb-2\" right={leftToolbarTemplate}/>\r\n\r\n          <DataTable\r\n            ref={dt}\r\n            value={allJourneys}\r\n            selection={selectedJourneys}\r\n            onSelectionChange={(e) => setSelectedJourneys(e.value)}\r\n            dataKey=\"id\"\r\n            paginator\r\n            rows={25}\r\n            rowsPerPageOptions={[10, 25, 50]}\r\n            paginatorTemplate=\"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown\"\r\n            currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} Journeys\"\r\n            globalFilter={globalFilter}\r\n            header={header}\r\n          >\r\n            <Column\r\n                field=\"id\"\r\n                header=\"Journey Id\"\r\n                body={journeyIdBodyTemplate}\r\n                />\r\n            <Column\r\n                field=\"driver.user.last_name\"\r\n                header=\"Driver\"\r\n                body={driverBodyTemplate}\r\n                />\r\n\r\n            <Column\r\n                field=\"date\"\r\n                header=\"Delivery Date\"\r\n                body={dateBodyTemplate}\r\n                sortable\r\n                />\r\n            <Column\r\n                field=\"distance_traveled\"\r\n                header=\"Distance Traveled\"\r\n                body={distanceBodyTemplate}\r\n                />\r\n            <Column\r\n                field=\"time_traveled\"\r\n                header=\"Time Traveled\"\r\n                body={timeBodyTemplate}\r\n                />\r\n            <Column\r\n              field=\"status\"\r\n              header=\"Status\"\r\n              body={statusBodyTemplate}\r\n            />\r\n\r\n            <Column header=\"Progress\" body={actionBodyTemplate}/>\r\n          </DataTable>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nconst mapStateToProps = ({ journeys, user }) => ({\r\n  journeys,\r\n  user,\r\n});\r\n\r\nexport default connect(mapStateToProps)(JourneyList);\r\n","C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\components\\Journey\\JourneyCreate.js",[],"C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\components\\Shipments\\ShipmentsMap.js",[],["78","79"],"C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\redux\\index.js",[],"C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\components\\Sidebar\\SidebarData.js",[],"C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\components\\Authentication\\Login.js",[],["80","81"],"C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\components\\Sidebar\\Navbar.js",["82","83"],"C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\components\\Shipments\\Shipments.js",["84"],"import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport \"primeicons/primeicons.css\";\r\n\r\nimport \"primereact/resources/themes/saga-blue/theme.css\";\r\nimport \"primereact/resources/primereact.css\";\r\nimport \"primeflex/primeflex.css\";\r\nimport { ProgressSpinner } from \"primereact/progressspinner\";\r\nimport \"../../index.css\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { fetchRegions, fetchTimes, addShipment } from \"../../redux/actions\";\r\n\r\nimport moment from \"moment\";\r\nimport classNames from \"classnames\";\r\nimport { DataTable } from \"primereact/datatable\";\r\nimport { Column } from \"primereact/column\";\r\nimport { Toast } from \"primereact/toast\";\r\nimport { Button } from \"primereact/button\";\r\nimport { MultiSelect } from \"primereact/multiselect\";\r\nimport { Dropdown } from \"primereact/dropdown\";\r\nimport { Toolbar } from \"primereact/toolbar\";\r\nimport { Dialog } from \"primereact/dialog\";\r\nimport { InputText } from \"primereact/inputtext\";\r\nimport { GMap } from \"primereact/gmap\";\r\nimport \"./cutom.css\";\r\n\r\nconst Shipments = ({\r\n  shipments,\r\n  statuses,\r\n  fetchRegions,\r\n  regions,\r\n  fetchTimes,\r\n  times,\r\n  addShipment,\r\n  user,\r\n}) => {\r\n  let emptyProduct = {\r\n    tracking_num: \"\",\r\n    receiver_name: \"\",\r\n    receiver_phone: \"\",\r\n  };\r\n\r\n  const [allshipments, setShipments] = useState(shipments || null);\r\n  const [shipmentDialog, setShipmentDialog] = useState(false);\r\n  const [shipmentDetailDialog, setShipmentDetailDialog] = useState(false);\r\n\r\n  const [shipment, setShipment] = useState(emptyProduct);\r\n  const [selectedProducts, setSelectedProducts] = useState(null);\r\n  const [selectedStatus, setSelectedStatus] = useState(null);\r\n  const [selectedRegion, setSelectedRegion] = useState(null);\r\n  const [selectedTime, setSelectedTime] = useState(null);\r\n\r\n  const [submitted, setSubmitted] = useState(false);\r\n  const [globalFilter, setGlobalFilter] = useState(null);\r\n  const toast = useRef(null);\r\n  const dt = useRef(null);\r\n  const statusesOptions = statuses?.map((status) => status.name);\r\n  const regionsOptions = regions?.map((region) => region.name);\r\n  const timeOptions = times?.map((time) => time.time);\r\n  const google = window.google;\r\n\r\n  const options = {\r\n    center: { lat: 24.7136, lng: 46.6753 },\r\n    zoom: 11,\r\n  };\r\n\r\n  const overlays = [\r\n    new google.maps.Marker({\r\n      position: {\r\n        lat: parseFloat(shipment.latitude),\r\n        lng: parseFloat(shipment.longitude),\r\n      },\r\n    }),\r\n  ];\r\n  useEffect(() => {\r\n    setShipments(shipments);\r\n    fetchRegions();\r\n    fetchTimes();\r\n  }, [shipments]);\r\n\r\n  if (!shipments)\r\n    return (\r\n      <div className=\"loader mt-5\">\r\n        <ProgressSpinner\r\n          style={{ width: \"200px\", height: \"200px\" }}\r\n          strokeWidth=\"8\"\r\n          fill=\"#EEEEEE\"\r\n          animationDuration=\".5s\"\r\n        />\r\n      </div>\r\n    );\r\n  const openNew = () => {\r\n    setShipment(emptyProduct);\r\n    setSubmitted(false);\r\n    setShipmentDialog(true);\r\n  };\r\n\r\n  const hideDialog = () => {\r\n    setSubmitted(false);\r\n    setShipmentDialog(false);\r\n  };\r\n  const hideDetailDialog = () => {\r\n    setShipmentDetailDialog(false);\r\n  };\r\n\r\n  const saveProduct = () => {\r\n    setSubmitted(true);\r\n\r\n    toast.current.show({\r\n      severity: \"success\",\r\n      summary: \"Successful\",\r\n      detail: \"Shipment Added\",\r\n      life: 3000,\r\n    });\r\n\r\n    addShipment({\r\n      tracking_num: shipment.tracking_num,\r\n      receiver_name: shipment.receiver_name,\r\n      receiver_phone: shipment.receiver_phone,\r\n    });\r\n    setShipmentDialog(false);\r\n    setShipment(emptyProduct);\r\n  };\r\n\r\n  const editProduct = (shipment) => {\r\n    setShipment({ ...shipment });\r\n    setShipmentDetailDialog(true);\r\n  };\r\n\r\n  const onInputChange = (e, name) => {\r\n    const val = (e.target && e.target.value) || \"\";\r\n    let _shipment = { ...shipment };\r\n    _shipment[`${name}`] = val;\r\n\r\n    setShipment(_shipment);\r\n  };\r\n\r\n  const leftToolbarTemplate = () => {\r\n    return (\r\n      <Button\r\n        label=\"New shipment\"\r\n        icon=\"pi pi-plus\"\r\n        className=\"p-button-success\"\r\n        onClick={openNew}\r\n      />\r\n    );\r\n  };\r\n\r\n  const statusBodyTemplate = (rowData) => {\r\n    return (\r\n      <span\r\n        className={classNames(\r\n          \"customer-badge\",\r\n          \"status-\" + rowData.status.name\r\n        )}\r\n      >\r\n        {rowData.status.name}\r\n      </span>\r\n    );\r\n  };\r\n  const renderStatusFilter = () => {\r\n    return (\r\n      <MultiSelect\r\n        value={selectedStatus}\r\n        options={statusesOptions}\r\n        onChange={onStatusFilterChange}\r\n        itemTemplate={statusItemTemplate}\r\n        filterBy={selectedStatus}\r\n        placeholder=\"Select a Status\"\r\n      />\r\n    );\r\n  };\r\n  const statusItemTemplate = (option) => {\r\n    return (\r\n      <span className={classNames(\"customer-badge\", \"status-\" + option)}>\r\n        {option}\r\n      </span>\r\n    );\r\n  };\r\n  const onStatusFilterChange = (event) => {\r\n    dt.current.filter(event.value, \"status.name\", \"in\");\r\n\r\n    setSelectedStatus(event.value);\r\n  };\r\n  const regionBodyTemplate = (rowData) => {\r\n    return (\r\n      <span className={`order-badge status-${rowData}`}>\r\n        {rowData.region?.name}\r\n      </span>\r\n    );\r\n  };\r\n  const renderRegionFilter = () => {\r\n    return (\r\n      <Dropdown\r\n        value={selectedRegion}\r\n        options={regionsOptions}\r\n        onChange={onRegionFilterChange}\r\n        itemTemplate={regionItemTemplate}\r\n        showClear\r\n        placeholder=\"Select a Region\"\r\n      />\r\n    );\r\n  };\r\n  const regionItemTemplate = (option) => {\r\n    return (\r\n      <span className={classNames(\"customer-badge\", \"status-\" + option)}>\r\n        {option}\r\n      </span>\r\n    );\r\n  };\r\n  const onRegionFilterChange = (event) => {\r\n    dt.current.filter(event.value, \"region.name\", \"equals\");\r\n\r\n    setSelectedRegion(event.value);\r\n  };\r\n\r\n  const journeyBodyTemplate = (rowData) => {\r\n    return (\r\n      <span className={`journy-badge status-${rowData.journey}`}>\r\n        {rowData.journey}\r\n      </span>\r\n    );\r\n  };\r\n  const trackinNumberBodyTemplate = (rowData) => {\r\n    return (\r\n      <span className={`customer-badge status-${rowData.tracking_num}`}>\r\n        {rowData.tracking_num}\r\n      </span>\r\n    );\r\n  };\r\n  const customerBodyTemplate = (rowData) => {\r\n    return (\r\n      <span className={`customer-badge status-${rowData.receiver_name}`}>\r\n        {rowData.receiver_name}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const dateBodyTemplate = (rowData) => {\r\n    return (\r\n      <span className={`customer-badge status-${rowData}`}>\r\n        {moment(rowData.date_added).format(\"YYYY-MM-DD\")}\r\n      </span>\r\n    );\r\n  };\r\n  const timeBodyTemplate = (rowData) => {\r\n    return (\r\n      <span className={`product-badge status-${rowData}`}>\r\n        {rowData.preferred_time?.time}\r\n      </span>\r\n    );\r\n  };\r\n  const renderTimeFilter = () => {\r\n    return (\r\n      <MultiSelect\r\n        value={selectedTime}\r\n        options={timeOptions}\r\n        onChange={onTimeFilterChange}\r\n        itemTemplate={timeItemTemplate}\r\n        filterBy={selectedTime}\r\n        placeholder=\"Select Time\"\r\n      />\r\n    );\r\n  };\r\n  const timeItemTemplate = (option) => {\r\n    return (\r\n      <span className={classNames(\"customer-badge\", \"status-\" + option)}>\r\n        {option}\r\n      </span>\r\n    );\r\n  };\r\n  const onTimeFilterChange = (event) => {\r\n    dt.current.filter(event.value, \"preferred_time.time\", \"in\");\r\n\r\n    setSelectedTime(event.value);\r\n  };\r\n\r\n  const actionBodyTemplate = (rowData) => {\r\n    return (\r\n      <Button\r\n        icon=\"pi pi-file-o \"\r\n        className=\"p-button-rounded p-button-success p-ml-2\"\r\n        onClick={() => editProduct(rowData)}\r\n      />\r\n    );\r\n  };\r\n\r\n  const header = (\r\n    <div className=\"table-header\">\r\n      <h5 className=\"p-m-0\">Manage Shipments</h5>\r\n      <span className=\"p-input-icon-left\">\r\n        <i className=\"pi pi-search\" />\r\n        <InputText\r\n          type=\"search\"\r\n          onInput={(e) => setGlobalFilter(e.target.value)}\r\n          placeholder=\"Search...\"\r\n        />\r\n      </span>\r\n    </div>\r\n  );\r\n  const shipmentDialogFooter = (\r\n    <>\r\n      <Button\r\n        label=\"Cancel\"\r\n        icon=\"pi pi-times\"\r\n        className=\"p-button-text\"\r\n        onClick={hideDialog}\r\n      />\r\n      <Button\r\n        label=\"Save\"\r\n        icon=\"pi pi-check\"\r\n        className=\"p-button-text\"\r\n        onClick={saveProduct}\r\n      />\r\n    </>\r\n  );\r\n\r\n  console.log(allshipments);\r\n\r\n  const statusFilterElement = renderStatusFilter();\r\n  const regionFilterElement = renderRegionFilter();\r\n  const timeFilterElement = renderTimeFilter();\r\n  if (!user) return <Redirect to=\"/login\" />;\r\n  return (\r\n    <div className=\"shipments ui-toolbar-group-left \">\r\n      <div className=\"datatable-crud-demo\">\r\n        <Toast ref={toast} />\r\n\r\n        <div className=\"card\">\r\n          <Toolbar className=\"p-mb-2\" right={leftToolbarTemplate}></Toolbar>\r\n\r\n          <DataTable\r\n            ref={dt}\r\n            value={allshipments}\r\n            selection={selectedProducts}\r\n            onSelectionChange={(e) => setSelectedProducts(e.value)}\r\n            dataKey=\"id\"\r\n            paginator\r\n            rows={25}\r\n            rowsPerPageOptions={[10, 25, 50]}\r\n            paginatorTemplate=\"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown\"\r\n            currentPageReportTemplate=\"Showing {first} to {last} of {totalRecords} Shipments\"\r\n            globalFilter={globalFilter}\r\n            header={header}\r\n          >\r\n            <Column\r\n              field=\"tracking_num\"\r\n              header=\"Tracking Number\"\r\n              body={trackinNumberBodyTemplate}\r\n            ></Column>\r\n            <Column\r\n              field=\"receiver_name\"\r\n              header=\"Customer Name\"\r\n              body={customerBodyTemplate}\r\n            ></Column>\r\n            {/* <Column field=\"receiver_phone\" header=\"Customer Phone\"  ></Column> */}\r\n            <Column\r\n              field=\"date_added\"\r\n              header=\"Delivery Date\"\r\n              body={dateBodyTemplate}\r\n              sortable\r\n            ></Column>\r\n            <Column\r\n              field=\"preferred_time.time\"\r\n              header=\"Preferred Time\"\r\n              body={timeBodyTemplate}\r\n              filter\r\n              filterElement={timeFilterElement}\r\n            ></Column>\r\n            <Column\r\n              field=\"journey\"\r\n              header=\"Journey\"\r\n              body={journeyBodyTemplate}\r\n              sortable\r\n            ></Column>\r\n            <Column\r\n              field=\"region.name\"\r\n              header=\"Region\"\r\n              body={regionBodyTemplate}\r\n              filter\r\n              filterElement={regionFilterElement}\r\n            ></Column>\r\n\r\n            <Column\r\n              field=\"status.name\"\r\n              header=\"Status\"\r\n              body={statusBodyTemplate}\r\n              filter\r\n              filterElement={statusFilterElement}\r\n            />\r\n            <Column header=\"Details\" body={actionBodyTemplate}></Column>\r\n          </DataTable>\r\n        </div>\r\n\r\n        <Dialog\r\n          visible={shipmentDialog}\r\n          style={{ width: \"1000px\" }}\r\n          header=\"Shipment Details\"\r\n          modal\r\n          className=\"p-fluid\"\r\n          footer={shipmentDialogFooter}\r\n          onHide={hideDialog}\r\n        >\r\n          <div className=\"p-field\">\r\n            <label htmlFor=\"id\">Tracking Number</label>\r\n            <InputText\r\n              id=\"id\"\r\n              value={shipment.tracking_num}\r\n              onChange={(e) => onInputChange(e, \"tracking_num\")}\r\n              required\r\n              autoFocus\r\n              className={classNames({\r\n                \"p-invalid\": submitted && !shipment.tracking_num,\r\n              })}\r\n            />\r\n            {submitted && !shipment.tracking_num && (\r\n              <small className=\"p-invalid\">Tracking Number is required.</small>\r\n            )}\r\n          </div>\r\n          <div className=\"p-field\">\r\n            <label htmlFor=\"name\">Customer name</label>\r\n            <InputText\r\n              id=\"name\"\r\n              value={shipment.receiver_name}\r\n              onChange={(e) => onInputChange(e, \"receiver_name\")}\r\n              required\r\n              autoFocus\r\n              className={classNames({\r\n                \"p-invalid\": submitted && !shipment.receiver_name,\r\n              })}\r\n            />\r\n            {submitted && !shipment.receiver_name && (\r\n              <small className=\"p-invalid\">Customer name is required.</small>\r\n            )}\r\n          </div>\r\n          <div className=\"p-field\">\r\n            <label htmlFor=\"name\">Customer phone</label>\r\n            <InputText\r\n              id=\"phone\"\r\n              value={shipment.receiver_phone}\r\n              onChange={(e) => onInputChange(e, \"receiver_phone\")}\r\n              required\r\n              autoFocus\r\n              className={classNames({\r\n                \"p-invalid\": submitted && !shipment.receiver_phone,\r\n              })}\r\n            />\r\n            {submitted && !shipment.receiver_phone && (\r\n              <small className=\"p-invalid\">Customer phone is required.</small>\r\n            )}\r\n          </div>\r\n        </Dialog>\r\n        <Dialog\r\n          visible={shipmentDetailDialog}\r\n          style={{ width: \"1000px\" }}\r\n          header={`${shipment.receiver_name}'s Shipment Details`}\r\n          modal\r\n          className=\"p-fluid\"\r\n          onHide={hideDetailDialog}\r\n        >\r\n          <table className=\"table table-bordered text-center \">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\">Tracking Number</th>\r\n                <th scope=\"col\">Customer name</th>\r\n                <th scope=\"col\">Customer Phone</th>\r\n                <th scope=\"col\">Delivery Date</th>\r\n                <th scope=\"col\">Added By</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr>\r\n                <td>{shipment.tracking_num}</td>\r\n                <td>{shipment.receiver_name}</td>\r\n                <td>{shipment.receiver_phone}</td>\r\n                <td>{moment(shipment.date_added).format(\"YYYY-MM-DD\")}</td>\r\n                <td>{shipment.added_by?.username}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n\r\n          <div className=\"p-field\">\r\n            <label htmlFor=\"name\" className=\"text-primary\">\r\n              Customer Location\r\n            </label>\r\n            <GMap\r\n              options={options}\r\n              style={{ width: \"100%\", minHeight: \"320px\" }}\r\n              overlays={overlays}\r\n            />\r\n          </div>\r\n          <div className=\"p-field\">\r\n            <button\r\n              className=\"btn rs-btn-primary\"\r\n              onClick={() => window.open(shipment.location)}\r\n            >\r\n              Cutomer's Location on Google Maps\r\n            </button>\r\n          </div>\r\n        </Dialog>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nconst mapStateToProps = ({ shipments, statuses, regions, times, user }) => ({\r\n  shipments,\r\n  statuses,\r\n  regions,\r\n  times,\r\n  user,\r\n});\r\nconst mapDispatchToProps = {\r\n  fetchRegions,\r\n  fetchTimes,\r\n  addShipment,\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Shipments);\r\n","C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\components\\Driver\\DriverModal.js",[],"C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\redux\\actions\\status.js",[],"C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\redux\\reducers\\status.js",[],"C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\redux\\actions\\driver.js",[],"C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\redux\\actions\\instance.js",[],"C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\components\\Journey\\JourneyMapCreate.js",["85","86"],"C:\\Users\\su\\Desktop\\Developement\\Capstone Project\\frontend\\admin\\pinpoint-admin\\src\\components\\HomePage\\Home.js",[],{"ruleId":"87","replacedBy":"88"},{"ruleId":"89","replacedBy":"90"},{"ruleId":"91","severity":1,"message":"92","line":48,"column":6,"nodeType":"93","endLine":48,"endColumn":15,"suggestions":"94"},{"ruleId":"87","replacedBy":"95"},{"ruleId":"89","replacedBy":"96"},{"ruleId":"87","replacedBy":"97"},{"ruleId":"89","replacedBy":"98"},{"ruleId":"99","severity":1,"message":"100","line":10,"column":10,"nodeType":"101","messageId":"102","endLine":10,"endColumn":21},{"ruleId":"99","severity":1,"message":"103","line":17,"column":9,"nodeType":"101","messageId":"102","endLine":17,"endColumn":20},{"ruleId":"91","severity":1,"message":"104","line":80,"column":6,"nodeType":"93","endLine":80,"endColumn":17,"suggestions":"105"},{"ruleId":"106","severity":1,"message":"107","line":55,"column":42,"nodeType":"108","messageId":"109","endLine":59,"endColumn":26},{"ruleId":"91","severity":1,"message":"110","line":116,"column":8,"nodeType":"93","endLine":116,"endColumn":18,"suggestions":"111"},"no-native-reassign",["112"],"no-negated-in-lhs",["113"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'allJourneys' and 'journeys'. Either include them or remove the dependency array. If 'setJourneys' needs the current value of 'journeys', you can also switch to useReducer instead of useState and read 'journeys' in the reducer.","ArrayExpression",["114"],["112"],["113"],["112"],["113"],"no-unused-vars","'SidebarData' is defined but never used.","Identifier","unusedVar","'showSidebar' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'fetchRegions' and 'fetchTimes'. Either include them or remove the dependency array. If 'fetchRegions' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["115"],"no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'newTravelTime', 'newTravelTime'.","ArrowFunctionExpression","unsafeRefs","React Hook useEffect has missing dependencies: 'previousLength', 'setPreviousLength', 'setTravelTime', and 'travelTime'. Either include them or remove the dependency array. If 'setPreviousLength' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["116"],"no-global-assign","no-unsafe-negation",{"desc":"117","fix":"118"},{"desc":"119","fix":"120"},{"desc":"121","fix":"122"},"Update the dependencies array to be: [allJourneys, checked, journeys]",{"range":"123","text":"124"},"Update the dependencies array to be: [fetchRegions, fetchTimes, shipments]",{"range":"125","text":"126"},"Update the dependencies array to be: [previousLength, selected, setPreviousLength, setTravelTime, travelTime]",{"range":"127","text":"128"},[1691,1700],"[allJourneys, checked, journeys]",[2596,2607],"[fetchRegions, fetchTimes, shipments]",[5619,5629],"[previousLength, selected, setPreviousLength, setTravelTime, travelTime]"]